


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  
  <!-- Licensed under the Apache 2.0 License -->
  <link rel="stylesheet" type="text/css" href="_static/fonts/open-sans/stylesheet.css" />
  <!-- Licensed under the SIL Open Font License -->
  <link rel="stylesheet" type="text/css" href="_static/fonts/source-serif-pro/source-serif-pro.css" />
  <link rel="stylesheet" type="text/css" href="_static/css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="_static/css/bootstrap-theme.min.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
    <title>Accessing Java Classes from Python &#8212; Osprey 3.0-beta1 documentation</title>
    <link rel="stylesheet" href="_static/guzzle.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/style.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '3.0-beta1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
  
   

  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Osprey 3.0-beta1 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="container-wrapper">

      <div id="mobile-toggle">
        <a href="#"><span class="glyphicon glyphicon-align-justify" aria-hidden="true"></span></a>
      </div>
  <div id="left-column">
    <div class="sphinxsidebar">
        <a href="
    index.html" class="text-logo">Osprey 3.0-beta1 documentation</a>
        
<div class="sidebar-block">
  <div class="sidebar-wrapper">
    <h2>Table Of Contents</h2>
  </div>
  <div class="sidebar-toc">
    
    
      <ul>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.osprey.html">API reference</a></li>
</ul>

    
  </div>
</div>
        
<div class="sidebar-block">
  <div class="sidebar-wrapper">
    <div id="main-search">
      <form class="form-inline" action="search.html" method="GET" role="form">
        <div class="input-group">
          <input name="q" type="text" class="form-control" placeholder="Search...">
        </div>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </form>
    </div>
  </div>
</div>
    </div>
  </div>
        <div id="right-column">
          
          <div role="navigation" aria-label="breadcrumbs navigation">
            <ol class="breadcrumb">
              <li><a href="index.html">Docs</a></li>
              
              <li>Accessing Java Classes from Python</li>
            </ol>
          </div>
          
          <div class="document clearer body">
            
  <div class="section" id="accessing-java-classes-from-python">
<span id="constructors"></span><h1>Accessing Java Classes from Python<a class="headerlink" href="#accessing-java-classes-from-python" title="Permalink to this headline">¶</a></h1>
<p>Almost all of Osprey’s code is written in Java because of Java’s runtime performance
and its rich development tools. This Python API was created to make Osprey’s sophisticated
computational libraries available with the ease and flexibilty of Python scripting.</p>
<p>Most users of Osprey will not have to call constructors on Java classes directly.
The <code class="docutils literal"><span class="pre">osprey</span></code> module (see the <a class="reference internal" href="api.osprey.html#api-reference"><span class="std std-ref">API reference</span></a>) provides many convenient
functions for creating Osprey objects (with appropriately Pythonic conventions)
and are sufficient for completing most designs.</p>
<p>However, more advanced users may wish to invoke some of Osprey’s more ‘behind-the-scenes’ code
from a Python script, even though that code has not been explicitly designed for Python access.
To create an instance of an Osprey Java class in a Python script, use the
class factory in the osprey module, which is named simply <code class="docutils literal"><span class="pre">c</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">osprey</span>
<span class="n">instance</span> <span class="o">=</span> <span class="n">osprey</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">SomeJavaClass</span><span class="p">()</span>
</pre></div>
</div>
<p>Osprey uses a library called <a class="reference external" href="http://jpype.readthedocs.io/en/latest/">JPype</a> to allow Java classes
to be called from Python. The <code class="docutils literal"><span class="pre">osprey.c</span></code> object is an instance of JPype’s JPackage class that points
to the Java package <code class="docutils literal"><span class="pre">edu.duke.cs.osprey</span></code>. For example, to instantiate a hypothetical Osprey class
<code class="docutils literal"><span class="pre">edu.duke.cs.osprey.package.Class</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">instance</span> <span class="o">=</span> <span class="n">osprey</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">package</span><span class="o">.</span><span class="n">Class</span><span class="p">()</span>
</pre></div>
</div>
<p>For lots of instantiations, try assigning the class constructor to a variable:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Class</span> <span class="o">=</span> <span class="n">osprey</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">package</span><span class="o">.</span><span class="n">Class</span>
<span class="n">instance1</span> <span class="o">=</span> <span class="n">Class</span><span class="p">()</span>
<span class="n">instance2</span> <span class="o">=</span> <span class="n">Class</span><span class="p">()</span>
<span class="n">instance3</span> <span class="o">=</span> <span class="n">Class</span><span class="p">()</span>
<span class="o">...</span>
</pre></div>
</div>
<p>Java class constructors can be called with arguments too:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">ParameterizedClass</span> <span class="o">=</span> <span class="n">osprey</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">package</span><span class="o">.</span><span class="n">ParameterizedClass</span>
<span class="n">instance1</span> <span class="o">=</span> <span class="n">ParameterizedClass</span><span class="p">(</span><span class="s1">&#39;argument&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The Java language supports method overloading, but the Python language does not.
This means it’s tricky to figure out which Java method overload should be called by the
Python script. JPype does a lot of work to figure this out based on the Python arguments
passed to the method, but JPype might not always find a match (and raise a
<code class="docutils literal"><span class="pre">RuntimeError:</span> <span class="pre">No</span> <span class="pre">matching</span> <span class="pre">overloads</span> <span class="pre">found</span></code>), or it might not pick the method you
intended. For more information on how to get the right method overload, read
<a class="reference external" href="http://jpype.readthedocs.io/en/latest/userguide.html#type-conversion">how JPype does automatic type conversion</a>.</p>
</div>
<div class="section" id="accessing-java-inner-classes">
<h2>Accessing Java Inner Classes<a class="headerlink" href="#accessing-java-inner-classes" title="Permalink to this headline">¶</a></h2>
<p>The convention for referencing an inner class in Java is:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>package.name.OuterClass$InnerClass
</pre></div>
</div>
<p>but this is not valid Python syntax, so it can’t be used with the JPackage classes.
To access inner classes, Osprey provides a helper method.</p>
<dl class="function">
<dt id="osprey.jvm.getInnerClass">
<code class="descclassname">osprey.jvm.</code><code class="descname">getInnerClass</code><span class="sig-paren">(</span><em>jclass</em>, <em>inner_class_name</em><span class="sig-paren">)</span><a class="headerlink" href="#osprey.jvm.getInnerClass" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the inner class from the Java outer class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>jclass</strong> – The Java class, provided by a JPype JPackage object.</li>
<li><strong>inner_class_name</strong> (<em>str</em>) – The simple name of the inner class.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p>To call a constructor on the hypothetical Osprey class <code class="docutils literal"><span class="pre">edu.duke.cs.osprey.package.Outer$Inner</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">osprey</span>
<span class="n">instance</span> <span class="o">=</span> <span class="n">osprey</span><span class="o">.</span><span class="n">jvm</span><span class="o">.</span><span class="n">getInnerClass</span><span class="p">(</span><span class="n">osprey</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">package</span><span class="o">.</span><span class="n">Outer</span><span class="p">,</span> <span class="s1">&#39;Inner&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>


          </div>
            
        </div>
        <div class="clearfix"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Osprey 3.0-beta1 documentation</a> &#187;</li> 
      </ul>
    </div>
<script type="text/javascript">
  $("#mobile-toggle a").click(function () {
    $("#left-column").toggle();
  });
</script>
<script type="text/javascript" src="_static/js/bootstrap.js"></script>
  <div class="footer">
    &copy; Copyright 2017, Donald Lab, Department of Computer Science, Duke University. Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div>
  </body>
</html>